!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SelectInput=e()}(this,function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),n=t(function(t){var e=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=e)}),r=(n.version,function(t){return"object"==typeof t?null!==t:"function"==typeof t}),i=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(t){return!0}},u=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),c=e.document,s=r(c)&&r(c.createElement),a=function(t){return s?c.createElement(t):{}},l=!u&&!o(function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}),f=Object.defineProperty,h={f:u?Object.defineProperty:function(t,e,n){if(i(t),e=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),i(n),l)try{return f(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},p=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},v=u?function(t,e,n){return h.f(t,e,p(1,n))}:function(t,e,n){return t[e]=n,t},d={}.hasOwnProperty,y=function(t,e){return d.call(t,e)},m=0,g=Math.random(),_=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++m+g).toString(36))},b=t(function(t){var r=_("src"),i=Function.toString,o=(""+i).split("toString");n.inspectSource=function(t){return i.call(t)},(t.exports=function(t,n,i,u){var c="function"==typeof i;c&&(y(i,"name")||v(i,"name",n)),t[n]!==i&&(c&&(y(i,r)||v(i,r,t[n]?""+t[n]:o.join(String(n)))),t===e?t[n]=i:u?t[n]?t[n]=i:v(t,n,i):(delete t[n],v(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[r]||i.call(this)})}),S=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},k=function(t,r,i){var o,u,c,s,a=t&k.F,l=t&k.G,f=t&k.S,h=t&k.P,p=t&k.B,d=l?e:f?e[r]||(e[r]={}):(e[r]||{}).prototype,y=l?n:n[r]||(n[r]={}),m=y.prototype||(y.prototype={});for(o in l&&(i=r),i)c=((u=!a&&d&&void 0!==d[o])?d:i)[o],s=p&&u?S(c,e):h&&"function"==typeof c?S(Function.call,c):c,d&&b(d,o,c,t&k.U),y[o]!=c&&v(y,o,s),h&&m[o]!=c&&(m[o]=c)};e.core=n,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128;var x=k,E={}.toString,I=function(t){return E.call(t).slice(8,-1)},C=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==I(t)?t.split(""):Object(t)},L=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t},O=function(t){return Object(L(t))},w=Math.ceil,j=Math.floor,T=function(t){return isNaN(t=+t)?0:(t>0?j:w)(t)},A=Math.min,P=function(t){return t>0?A(T(t),9007199254740991):0},M=Array.isArray||function(t){return"Array"==I(t)},R=t(function(t){var r=e["__core-js_shared__"]||(e["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:n.version,mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})}),F=t(function(t){var n=R("wks"),r=e.Symbol,i="function"==typeof r;(t.exports=function(t){return n[t]||(n[t]=i&&r[t]||(i?r:_)("Symbol."+t))}).store=n}),N=F("species"),D=function(t,e){return new(function(t){var e;return M(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!M(e.prototype)||(e=void 0),r(e)&&null===(e=e[N])&&(e=void 0)),void 0===e?Array:e}(t))(e)},H=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,u=6==t,c=5==t||u,s=e||D;return function(e,a,l){for(var f,h,p=O(e),v=C(p),d=S(a,l,3),y=P(v.length),m=0,g=n?s(e,y):r?s(e,0):void 0;y>m;m++)if((c||m in v)&&(h=d(f=v[m],m,p),t))if(n)g[m]=h;else if(h)switch(t){case 3:return!0;case 5:return f;case 6:return m;case 2:g.push(f)}else if(o)return!1;return u?-1:i||o?o:g}},G=F("unscopables"),$=Array.prototype;null==$[G]&&v($,G,{});var V=function(t){$[G][t]=!0},q=H(6),B="findIndex",U=!0;B in[]&&Array(1)[B](function(){U=!1}),x(x.P+x.F*U,"Array",{findIndex:function(t){return q(this,t,arguments.length>1?arguments[1]:void 0)}}),V(B);var W,z,K=function(t){return function(e,n){var r,i,o=String(L(e)),u=T(n),c=o.length;return u<0||u>=c?t?"":void 0:(r=o.charCodeAt(u))<55296||r>56319||u+1===c||(i=o.charCodeAt(u+1))<56320||i>57343?t?o.charAt(u):r:t?o.slice(u,u+2):i-56320+(r-55296<<10)+65536}}(!0),X=function(t,e,n){return e+(n?K(t,e).length:1)},J=F("toStringTag"),Q="Arguments"==I(function(){return arguments}()),Y=RegExp.prototype.exec,Z=function(t,e){var n,r,i,o,u=t.exec;if("function"==typeof u){var c=u.call(t,e);if("object"!=typeof c)throw new TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==(void 0===(n=t)?"Undefined":null===n?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(r=Object(n),J))?i:Q?I(r):"Object"==(o=I(r))&&"function"==typeof r.callee?"Arguments":o))throw new TypeError("RegExp#exec called on incompatible receiver");return Y.call(t,e)},tt=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},et=RegExp.prototype.exec,nt=String.prototype.replace,rt=et,it=(W=/a/,z=/b*/g,et.call(W,"a"),et.call(z,"a"),0!==W.lastIndex||0!==z.lastIndex),ot=void 0!==/()??/.exec("")[1];(it||ot)&&(rt=function(t){var e,n,r,i,o=this;return ot&&(n=new RegExp("^"+o.source+"$(?!\\s)",tt.call(o))),it&&(e=o.lastIndex),r=et.call(o,t),it&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),ot&&r&&r.length>1&&nt.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var ut=rt;x({target:"RegExp",proto:!0,forced:ut!==/./.exec},{exec:ut});var ct=F("species"),st=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),at=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}(),lt=Math.max,ft=Math.min,ht=Math.floor,pt=/\$([$&`']|\d\d?|<[^>]*>)/g,vt=/\$([$&`']|\d\d?)/g;!function(t,e,n){var r=F(t),i=!o(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)}),u=i?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[ct]=function(){return n}),n[r](""),!e}):void 0;if(!i||!u||"replace"===t&&!st||"split"===t&&!at){var c=/./[r],s=n(L,r,""[t],function(t,e,n,r,o){return e.exec===ut?i&&!o?{done:!0,value:c.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),a=s[0],l=s[1];b(String.prototype,t,a),v(RegExp.prototype,r,2==e?function(t,e){return l.call(t,this,e)}:function(t){return l.call(t,this)})}}("replace",2,function(t,e,n,r){return[function(r,i){var o=t(this),u=null==r?void 0:r[e];return void 0!==u?u.call(r,o,i):n.call(String(o),r,i)},function(t,e){var u=r(n,t,this,e);if(u.done)return u.value;var c=i(t),s=String(this),a="function"==typeof e;a||(e=String(e));var l=c.global;if(l){var f=c.unicode;c.lastIndex=0}for(var h=[];;){var p=Z(c,s);if(null===p)break;if(h.push(p),!l)break;""===String(p[0])&&(c.lastIndex=X(s,P(c.lastIndex),f))}for(var v,d="",y=0,m=0;m<h.length;m++){p=h[m];for(var g=String(p[0]),_=lt(ft(T(p.index),s.length),0),b=[],S=1;S<p.length;S++)b.push(void 0===(v=p[S])?v:String(v));var k=p.groups;if(a){var x=[g].concat(b,_,s);void 0!==k&&x.push(k);var E=String(e.apply(void 0,x))}else E=o(g,s,_,b,k,e);_>=y&&(d+=s.slice(y,_)+E,y=_+g.length)}return d+s.slice(y)}];function o(t,e,r,i,o,u){var c=r+t.length,s=i.length,a=vt;return void 0!==o&&(o=O(o),a=pt),n.call(u,a,function(n,u){var a;switch(u.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(c);case"<":a=o[u.slice(1,-1)];break;default:var l=+u;if(0===l)return n;if(l>s){var f=ht(l/10);return 0===f?n:f<=s?void 0===i[f-1]?u.charAt(1):i[f-1]+u.charAt(1):n}a=i[l-1]}return void 0===a?"":a})}});var dt,yt=function(t,e){return{value:e,done:!!t}},mt={},gt=function(t){return C(L(t))},_t=Math.max,bt=Math.min,St=R("keys"),kt=function(t){return St[t]||(St[t]=_(t))},xt=(dt=!1,function(t,e,n){var r,i=gt(t),o=P(i.length),u=function(t,e){return(t=T(t))<0?_t(t+e,0):bt(t,e)}(n,o);if(dt&&e!=e){for(;o>u;)if((r=i[u++])!=r)return!0}else for(;o>u;u++)if((dt||u in i)&&i[u]===e)return dt||u||0;return!dt&&-1}),Et=kt("IE_PROTO"),It="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Ct=Object.keys||function(t){return function(t,e){var n,r=gt(t),i=0,o=[];for(n in r)n!=Et&&y(r,n)&&o.push(n);for(;e.length>i;)y(r,n=e[i++])&&(~xt(o,n)||o.push(n));return o}(t,It)},Lt=u?Object.defineProperties:function(t,e){i(t);for(var n,r=Ct(e),o=r.length,u=0;o>u;)h.f(t,n=r[u++],e[n]);return t},Ot=e.document,wt=Ot&&Ot.documentElement,jt=kt("IE_PROTO"),Tt=function(){},At=function(){var t,e=a("iframe"),n=It.length;for(e.style.display="none",wt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),At=t.F;n--;)delete At.prototype[It[n]];return At()},Pt=Object.create||function(t,e){var n;return null!==t?(Tt.prototype=i(t),n=new Tt,Tt.prototype=null,n[jt]=t):n=At(),void 0===e?n:Lt(n,e)},Mt=h.f,Rt=F("toStringTag"),Ft=function(t,e,n){t&&!y(t=n?t:t.prototype,Rt)&&Mt(t,Rt,{configurable:!0,value:e})},Nt={};v(Nt,F("iterator"),function(){return this});var Dt=function(t,e,n){t.prototype=Pt(Nt,{next:p(1,n)}),Ft(t,e+" Iterator")},Ht=kt("IE_PROTO"),Gt=Object.prototype,$t=Object.getPrototypeOf||function(t){return t=O(t),y(t,Ht)?t[Ht]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Gt:null},Vt=F("iterator"),qt=!([].keys&&"next"in[].keys()),Bt=function(){return this},Ut=function(t,e,n,r,i,o,u){Dt(n,e,r);var c,s,a,l=function(t){if(!qt&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",h="values"==i,p=!1,d=t.prototype,y=d[Vt]||d["@@iterator"]||i&&d[i],m=y||l(i),g=i?h?l("entries"):m:void 0,_="Array"==e&&d.entries||y;if(_&&(a=$t(_.call(new t)))!==Object.prototype&&a.next&&(Ft(a,f,!0),"function"!=typeof a[Vt]&&v(a,Vt,Bt)),h&&y&&"values"!==y.name&&(p=!0,m=function(){return y.call(this)}),(qt||p||!d[Vt])&&v(d,Vt,m),mt[e]=m,mt[f]=Bt,i)if(c={values:h?m:l("values"),keys:o?m:l("keys"),entries:g},u)for(s in c)s in d||b(d,s,c[s]);else x(x.P+x.F*(qt||p),e,c);return c}(Array,"Array",function(t,e){this._t=gt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,yt(1)):yt(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");mt.Arguments=mt.Array,V("keys"),V("values"),V("entries");for(var Wt=F("iterator"),zt=F("toStringTag"),Kt=mt.Array,Xt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Jt=Ct(Xt),Qt=0;Qt<Jt.length;Qt++){var Yt,Zt=Jt[Qt],te=Xt[Zt],ee=e[Zt],ne=ee&&ee.prototype;if(ne&&(ne[Wt]||v(ne,Wt,Kt),ne[zt]||v(ne,zt,Zt),mt[Zt]=Kt,te))for(Yt in Ut)ne[Yt]||b(ne,Yt,Ut[Yt],!0)}function re(t){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ie(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}u&&"g"!=/./g.flags&&h.f(RegExp.prototype,"flags",{configurable:!0,get:tt});var oe=/./.toString,ue=function(t){b(RegExp.prototype,"toString",t,!0)};o(function(){return"/a/b"!=oe.call({source:"a",flags:"b"})})?ue(function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!u&&t instanceof RegExp?tt.call(t):void 0)}):"toString"!=oe.name&&ue(function(){return oe.call(this)});var ce=h.f,se=Function.prototype,ae=/^\s*function ([^ (]*)/;"name"in se||u&&ce(se,"name",{configurable:!0,get:function(){try{return(""+this).match(ae)[1]}catch(t){return""}}});var le=H(5),fe=!0;"find"in[]&&Array(1).find(function(){fe=!1}),x(x.P+x.F*fe,"Array",{find:function(t){return le(this,t,arguments.length>1?arguments[1]:void 0)}}),V("find");var he={f:Object.getOwnPropertySymbols},pe={f:{}.propertyIsEnumerable},ve=Object.assign,de=!ve||o(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=ve({},t)[n]||Object.keys(ve({},e)).join("")!=r})?function(t,e){for(var n=O(t),r=arguments.length,i=1,o=he.f,u=pe.f;r>i;)for(var c,s=C(arguments[i++]),a=o?Ct(s).concat(o(s)):Ct(s),l=a.length,f=0;l>f;)u.call(s,c=a[f++])&&(n[c]=s[c]);return n}:ve;x(x.S+x.F,"Object",{assign:de});var ye=document,me={items:[],current:null,parent:null,maxHeight:0,proposal:"Add {X} to the list?",sort:!0,order:"desc",removalIcon:"&times;",placeHolder:"Type to search",onDelete:null,onCreate:null};return function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=Object.assign({},me,n),this.dom={el:this._setElement(e)},this.options.items=this._convertItems(n.items),this.current=n.current?this._convertItem(n.current):{},this.__found=null,this.options.sort&&this._sortItems(),this._renderInit(),this._events=[],this._bindEvents()}var e,n,r;return e=t,(n=[{key:"_bindEvents",value:function(){var t=this,e=function(e){"Escape"!==e.key&&27!==e.keyCode&&t.dom.el.contains(e.target)||t.toggle(!1)};this.on("input",this._search),this.on("click",this._handleClick),this.on("keyup",this._handleKey),this.on("focusin",function(){return t._renderListItems().toggle(!0)},this.dom.input),this.on("keyup",e,ye),this.on("click",e,ye)}},{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(n||this.dom.el).addEventListener(t,e=e.bind(this),!0),this._events.push({name:t,fn:e,el:n}),this}},{key:"onDelete",value:function(t){return this.options.onDelete=t,this}},{key:"onCreate",value:function(t){return this.options.onCreate=t,this}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.dom.el.firstElementChild.classList[t?"remove":"add"]("si-hide"),t||this.dom.input.blur(),this}},{key:"getElement",value:function(){return this.dom.el}},{key:"getItems",value:function(){return this.options.items}},{key:"getCurrent",value:function(){var t=Object.assign({},this.current);return delete t._lc,t}},{key:"clearCurrent",value:function(){this.current={},this.dom.input.value="",this._clearSelected()}},{key:"findItem",value:function(t){return t=t.nodeName?t.dataset.value:t,this.options.items.find(function(e){return e.value===t})}},{key:"remove",value:function(){var t=this;this._events=this._events.filter(function(e){return(e.el||t.dom.el).removeEventListener(e.name,e.fn,!0)}),this.dom.el.parentNode.removeChild(this.dom.el),this.dom=this.options=null}},{key:"_setCurrent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.current=t,this.dom.input.value=t.value.toString(),this._setSelected(t,e),this}},{key:"_trigger",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"function"==typeof CustomEvent?e=new CustomEvent(t,{detail:n||this.current}):(e=ye.createEvent("Event")).initEvent(t,!0,!0),this.dom.el.dispatchEvent(e)}},{key:"_setElement",value:function(t){if(!t&&!t.nodeType&&"string"!=typeof t)throw new Error("Wrong element type provided!");return t.nodeType?t:(this.options.parent||ye).querySelector(t)}},{key:"_setSelected",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._clearSelected(),(e=e||this.dom.list.querySelector('li[data-value="'.concat(t.value,'"]')))&&e.classList.add("si-current")}},{key:"_clearSelected",value:function(){var t=this.dom.list.querySelector(".si-current");t&&t.classList.remove("si-current")}},{key:"_convertItems",value:function(){var t=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return t._convertItem(e)})}},{key:"_convertItem",value:function(t){return(t="object"!==re(t)?{value:t}:t)._lc=t.value.toString().toLowerCase(),t}},{key:"_renderInit",value:function(){var t=ye.createElement("div");return t.className="si-wrap si-hide",this.dom.input=t.appendChild(this._renderInput()).firstChild,this.dom.list=t.appendChild(this._renderList()).firstChild,this.current.value&&(this.dom.input.value=this.current.value),this.dom.el.appendChild(t)}},{key:"_renderInput",value:function(){var t=ye.createElement("div"),e=ye.createElement("input");return t.className="si-input",e.type="text",e.autocomplete="false",e.spellcheck=!1,e.placeholder=this.options.placeHolder,t.appendChild(e),t}},{key:"_renderList",value:function(){var t=ye.createElement("div"),e=ye.createElement("ul"),n=this.options.maxHeight;return t.className="si-list",n&&(t.style.maxHeight=n+"px"),t.appendChild(e),t}},{key:"_createListItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e="",n=this.current.value,r="",i=this._createRemovalButton();return t.forEach(function(t){r=n&&t.value===n?" si-current":"",e+='<li class="si-item'.concat(r,'" data-value="').concat(t.value,'">').concat(t.value).concat(i,"</li>")}),e}},{key:"_renderListItems",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.dom.list.innerHTML=t||this._createListItems(this.options.items),this}},{key:"_createRemovalButton",value:function(){return'<button type="button" class="si-removal">'.concat(this.options.removalIcon,"</button>")}},{key:"_search",value:function(t){var e=null,n=t.target.value,r=n.toLowerCase(),i=this.options.items.filter(function(t){return-1!==t._lc.indexOf(r)}),o=this._createListItems(i),u=i[0],c=i.length;1===c&&u&&(e=u),(!u||c&&r&&r!==u._lc)&&(o+=this._proposeItem(n)),this.__found=e,this._renderListItems(o)}},{key:"_proposeItem",value:function(t){var e=this.options.proposal.replace("{X}","<span>".concat(t,"</span>"));return'<li class="si-item si-proposal" data-term="'.concat(t,'">').concat(e,"</li>")}},{key:"_handleClick",value:function(t){var e=t.target,n=e.classList;if(n.contains("si-proposal")){var r=this._convertItem(e.dataset.term);this._fireCallback("onCreate",r)&&this._setCurrent(this._insertItem(r),e).toggle()._trigger("created")}else n.contains("si-item")?this._setCurrent(this.findItem(e),e).toggle()._trigger("selected"):n.contains("si-removal")&&(e=e.parentNode,this._fireCallback("onDelete",this.findItem(e))&&this._trigger("removed",this._sliceItem(e)))}},{key:"_fireCallback",value:function(t,e){return"function"!=typeof this.options[t]||this.options[t](e)}},{key:"_handleKey",value:function(t){var e,n=t.target.value,r=this.__found;n&&13!==t.keyCode&&"Enter"!==t.key||(!r&&n?(r=this._convertItem(n),!this.findItem(n)&&this._fireCallback("onCreate",r)&&(e="created",this._setCurrent(this._insertItem(r)))):r&&(e="selected",this._setCurrent(r)),e&&this.toggle()._trigger(e))}},{key:"_insertItem",value:function(t){return this.options.items.push(t),this.options.sort&&this._sortItems(),t}},{key:"_sortItems",value:function(){var t="desc"===this.options.order?1:-1;this.options.items.sort(function(e,n){return e._lc<n._lc?-t:e._lc>n._lc?t:0})}},{key:"_sliceItem",value:function(t){var e,n=this.options.items,r=t.dataset.value.toLowerCase(),i=this.current;return this.dom.list.removeChild(t),e=n.splice(n.findIndex(function(t){return t._lc===r}),1).shift(),i&&e._lc===i._lc&&this.clearCurrent(),e}}])&&ie(e.prototype,n),r&&ie(e,r),t}()});
//# sourceMappingURL=select-input-umd.js.map
